"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[772],{8772:function(e,r,t){t.r(r),t.d(r,{default:function(){return x}});var i=t(4165),a=t(1413),n=t(5861),s="AdminRecipeForm_RecipeForm__c2lMI",c=t(6727),l=t(1134),m=t(4695),u=t(2122),d=t(7689),o=t(184);var x=function(){var e=(0,d.f_)(),r=(0,d.s0)(),t={title:e?e.title:"",image:e?e.image:""},x=c.Ry({title:c.Z_().required("le titre de la recette doit \xeatre renseign\xe9").min(10,"Le titre doit faire 10 caract\xe8res min et 30 max").max(30,"Le titre doit faire 10 caract\xe8res min et 30 max"),image:c.Z_().required("il faut renseigner une url d'image").url("L'image doit \xeatre un lien valide")}),f=(0,l.cI)({defaultValues:t,resolver:(0,m.X)(x)}),p=f.formState,g=p.errors,h=p.isSubmitting,b=f.register,j=f.handleSubmit,v=f.reset,Z=f.setError,k=f.clearErrors;function N(){return(N=(0,n.Z)((0,i.Z)().mark((function n(s){return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,k(),!e){i.next=8;break}return i.next=5,(0,u.DI)((0,a.Z)((0,a.Z)({},s),{},{_id:e._id}));case 5:r("/admin/recipes/list"),i.next=11;break;case 8:return i.next=10,(0,u.kW)(s);case 10:v(t);case 11:i.next=16;break;case 13:i.prev=13,i.t0=i.catch(0),Z("generic",{type:"generic",message:"un erreur est survenue"});case 16:case"end":return i.stop()}}),n,null,[[0,13]])})))).apply(this,arguments)}return(0,o.jsxs)("form",{onSubmit:j((function(e){return N.apply(this,arguments)})),className:"d-flex flex-column card p-20 ".concat(s),children:[(0,o.jsx)("h2",{className:"mb-20",children:" Ajouter une recette"}),(0,o.jsxs)("div",{className:"d-flex flex-column mb-20",children:[(0,o.jsx)("label",{children:"Titre de la recette"}),(0,o.jsx)("input",(0,a.Z)((0,a.Z)({},b("title")),{},{type:"text"})),g.title&&(0,o.jsx)("p",{className:"form-error",children:g.title.message})]}),(0,o.jsxs)("div",{className:"d-flex flex-column mb-20",children:[(0,o.jsx)("label",{children:"Image de la recette"}),(0,o.jsx)("input",(0,a.Z)((0,a.Z)({},b("image")),{},{type:"text"})),g.image&&(0,o.jsx)("p",{className:"form-error",children:g.image.message})]}),g.generic&&(0,o.jsx)("p",{className:"form-error",children:g.generic.message}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{disabled:h,className:"btn btn-primary",children:" Sauvegarder"})})]})}}}]);
//# sourceMappingURL=772.ede65d80.chunk.js.map