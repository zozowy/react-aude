{"version":3,"file":"static/js/666.552772e0.chunk.js","mappings":"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","sources":["hooks/useFetchRecipes.js","webpack://client/./src/pages/Homepage/Homepage.module.scss?c15b","webpack://client/./src/pages/Homepage/components/Recipe.module.scss?3efd","pages/Homepage/components/Recipe.js","webpack://client/./src/components/Loading/Loading.module.scss?0a17","components/Loading/Loading.js","webpack://client/./src/pages/Homepage/components/Search/Search.module.scss?45c8","pages/Homepage/components/Search/Search.js","pages/Homepage/Homepage.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { getRecipes } from \"../apis\";\n\nexport function useFetchRecipes(page) {\n    const [recipes, setRecipes] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState([]);\n    useEffect(() => {\n        let cancel = false;\n        async function fetchData() {\n            try {\n                setIsLoading(true);\n\n                const queryParam = new URLSearchParams();\n                if (page) {\n                    queryParam.append('skip', (page - 1) * 18 );\n                    queryParam.append('limit', 18 );\n                    queryParam.append('sort', 'createdAt:-1')\n                }\n                const fetchRecipes = await getRecipes(queryParam);\n                if (!cancel) {\n                    setRecipes(x => [...x, ...fetchRecipes]);\n                }\n                setRecipes(fetchRecipes)\n            } catch (e) {\n                console.log('ERREUR');\n                setError('Erreur');\n            } finally {\n                if (!cancel) {\n                    setIsLoading(false);\n                }\n\n            }\n        }\n        fetchData();\n        return () => cancel = true;\n    }, [page]);\n    return [[recipes, setRecipes], isLoading, error];\n\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"grid\":\"Homepage_grid__7Krgb\",\"contentCard\":\"Homepage_contentCard__nmv7+\",\"elem\":\"Homepage_elem__Pc9cE\",\"small\":\"Homepage_small__pOLGx\"};","// extracted by mini-css-extract-plugin\nexport default {\"recipe\":\"Recipe_recipe__sC+LH\",\"recipeTitle\":\"Recipe_recipeTitle__YvfiK\",\"imageContainer\":\"Recipe_imageContainer__CJY22\"};","import styles from \"./Recipe.module.scss\";\n\nfunction Recipe({\n\trecipe,\n\tupdateRecipe,\n\tdeleteRecipe }) {\n\tfunction handleClickLike() {\n\t\tupdateRecipe({\n\t\t\t...recipe,\n\t\t\tliked: !recipe.liked,\n\t\t})\n\n\t}\n\tasync function handleClickDelete(e) {\n\t\t//to prevent to like a deleted recipe\n\t\te.stopPropagation();\n\t\tdeleteRecipe(recipe._id);\n\n\t}\n\treturn (\n\t\t<div onClick={handleClickLike} className={styles.recipe}>\n\t\t\t<i onClick={handleClickDelete} className=\"fa-solid fa-xmark\"></i>\n\t\t\t<div className={styles.imageContainer}>\n\t\t\t\t<img src={recipe.image} alt=\"recipe\" />\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName={`${styles.recipeTitle} d-flex flex-column justify-content-center align-items-center`}\n\t\t\t>\n\t\t\t\t<h3 className=\"mb-10\">{recipe.title}</h3>\n\t\t\t\t<i className={`fa-solid fa-heart ${recipe.liked ? \"text-primary\" : \"\"}`}></i>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Recipe;","// extracted by mini-css-extract-plugin\nexport default {\"spinner\":\"Loading_spinner__Y9jaO\",\"rotate\":\"Loading_rotate__ZztiU\"};","import style from './Loading.module.scss';\nfunction Loading() {\n    return (<div className=\"d-flex flex-row align-items-center justify-content-center flex-fill\">\n        <i className={ `fa-solid fa-spinner ${style.spinner}` }> </i>\n    </div>);\n}\nexport default Loading;","// extracted by mini-css-extract-plugin\nexport default {\"searchBar\":\"Search_searchBar__zrAay\"};","import styles from './Search.module.scss';\nfunction Search({ setFilter}) {\n\n    function handleInput(e) {\n        const filter = e.target.value;\n        if (filter !== 'undefined' && filter.length > 0) {\n            setFilter(filter.trim().toLowerCase());\n        }\n        \n    }\n\n    return (\n        <div className={`d-flex flex-row justify-content-center align-items-center my-30 ${styles.searchBar}`}>\n            <i className='fa-solid fa-magnifying-glass mr-15'></i>\n            <input onInput={handleInput} className=\"flex-fill \" type=\"text\" placeholder='Rechercher' />\n        </div>\n    );\n}\n    export default Search;","import React, { useState } from 'react';\nimport styles from './Homepage.module.scss';\nimport Recipe from './components/Recipe';\nimport Loading from '../../components/Loading/Loading';\nimport Search from './components/Search/Search';\nimport {  useFetchRecipes } from '../../hooks';\nimport { updateRecipe as updateR, deleteRecipe as deleteR } from '../../apis';\n//import { data } from '../../data/recipes';\n\nfunction Homepage() {\n    const [filter, setFilter] = useState('');\n    const [page, setPage] = useState(1);\n    const [[recipes, setRecipes], isLoading] = useFetchRecipes(page)\n    async function updateRecipe(updatedRecipe) {\n        const savedRecipe = await updateR(updatedRecipe);\n\n        setRecipes(recipes.map((r) => (r._id === savedRecipe._id ? savedRecipe : r)));\n    }\n\n    async function deleteRecipe(_id) {\n        await deleteR(_id);\n        setRecipes(recipes.filter((r) => r._id !== _id));\n    }\n    return (\n        <div className=\"flex-fill container d-flex flex-column p-20\">\n            <h1 className=\"my-30\">DÃ©couvrez nos nouvelles recettes <small className={styles.small}>( {recipes.length} )</small></h1>\n            <div className={`card flex-fill flex-column p-20 mb-20${styles.contentCard}`}>\n                <Search setFilter={setFilter} />\n                {isLoading && !recipes.length ? (\n                    <Loading />\n                ) : (\n                    <div className={styles.grid}>\n                        {recipes\n                            .filter((r) => r.title ? r.title.toLowerCase().startsWith(filter) : 'notitle')\n                            .map(r => (\n                                <Recipe\n                                    key={r._id}\n                                    recipe={r}\n                                    updateRecipe={updateRecipe}\n                                    deleteRecipe={deleteRecipe}\n                                />\n                            ))}\n                    </div>\n                )}\n                <div className=\"d-flex flex-row align-items-center justify-content-center p-20\">\n                    <button onClick={() => setPage(page + 1)} className=\"btn btn-primary\"> Charger plus de recettes\n\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Homepage;\n","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}"],"names":["useFetchRecipes","page","_useState","useState","_useState2","_slicedToArray","recipes","setRecipes","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","error","setError","useEffect","cancel","_fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","queryParam","fetchRecipes","wrap","_context","prev","next","URLSearchParams","append","getRecipes","sent","x","concat","_toConsumableArray","t0","console","log","finish","stop","apply","arguments","fetchData","_ref","recipe","updateRecipe","deleteRecipe","_handleClickDelete","e","stopPropagation","_id","_jsxs","onClick","_objectSpread","liked","className","styles","children","_jsx","_x","src","image","alt","title","style","setFilter","onInput","filter","target","value","length","trim","toLowerCase","type","placeholder","setPage","_useFetchRecipes","_useFetchRecipes2","_useFetchRecipes2$","_updateRecipe","updatedRecipe","savedRecipe","updateR","map","r","_x2","_deleteRecipe","_callee2","_context2","deleteR","Search","Loading","startsWith","Recipe","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread2","i","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty"],"sourceRoot":""}