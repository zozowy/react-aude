{"version":3,"file":"static/js/133.1124acab.chunk.js","mappings":"oLACA,EAAuB,qB,qEC6FvB,MApFA,SAAgBA,GACd,IAAAC,GAAyBC,EAAAA,EAAAA,YAAWC,EAAAA,GAA5BC,EAAMH,EAANG,OAAQC,EAAIJ,EAAJI,KACVC,EAAmBC,EAAAA,GAAW,CAClCC,MAAOD,EAAAA,KAEJE,SAAS,mCACTD,MAAM,4BACTE,SAAUH,EAAAA,KAEPE,SAAS,0CACTE,IAAI,EAAG,6BAUZC,GAMIC,EAAAA,EAAAA,IAAmB,CACrBC,cAdwC,CACxCN,MAAO,GACPE,SAAU,GACVK,QAAS,IAYTC,UAAUC,EAAAA,EAAAA,GAAYX,KAPtBY,EAAYN,EAAZM,aACAC,EAAQP,EAARO,SAAQC,EAAAR,EACRS,UAAaC,EAAMF,EAANE,OAAQC,EAAYH,EAAZG,aACrBC,EAAQZ,EAARY,SACAC,EAAWb,EAAXa,YAMIC,EAASR,EAAY,eAAAS,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAC,SAAAC,EAAOC,GAAW,IAAAC,EAAA,OAAAJ,EAAAA,EAAAA,KAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAE5B,OAF4BF,EAAAC,KAAA,EAE1CX,IAAcU,EAAAE,KAAA,EACRjC,EAAO4B,GAAa,KAAD,EAAAG,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAG,GAAAH,EAAA,SAEnBF,EAAUE,EAAAG,GAAiBL,QACjCT,EAAS,UAAW,CAAEe,KAAM,UAAWN,QAAAA,IAAW,yBAAAE,EAAAK,OAAA,GAAAT,EAAA,kBAErD,gBAAAU,GAAA,OAAAd,EAAAe,MAAA,KAAAC,UAAE,CAAF,CAR0B,IAU3B,OACEC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SACEzC,GACAuC,EAAAA,EAAAA,KAACG,EAAAA,GAAQ,CAACC,GAAG,cAEbJ,EAAAA,EAAAA,KAAA,OAAKK,UAAU,6DAA4DH,UACzEI,EAAAA,EAAAA,MAAA,QACEC,SAAUzB,EACVuB,UAAS,GAAAG,OAAKC,EAAW,iCAAgCP,SAAA,EAEzDF,EAAAA,EAAAA,KAAA,MAAIK,UAAU,QAAOH,SAAC,eACtBI,EAAAA,EAAAA,MAAA,OAAKD,UAAU,2BAA0BH,SAAA,EACvCF,EAAAA,EAAAA,KAAA,SAAOU,QAAQ,QAAOR,SAAC,WACvBF,EAAAA,EAAAA,KAAA,SAAAW,EAAAA,EAAAA,GAAA,CAAOhB,KAAK,OAAOiB,GAAG,SAAYrC,EAAS,YACpC,OAANG,QAAM,IAANA,OAAM,EAANA,EAAQd,SACPoC,EAAAA,EAAAA,KAAA,KAAGK,UAAU,aAAYH,SAAExB,EAAOd,MAAMyB,cAG5CiB,EAAAA,EAAAA,MAAA,OAAKD,UAAU,2BAA0BH,SAAA,EACvCF,EAAAA,EAAAA,KAAA,SAAOU,QAAQ,WAAUR,SAAC,cAC1BF,EAAAA,EAAAA,KAAA,SAAAW,EAAAA,EAAAA,GAAA,CAAOhB,KAAK,WAAWiB,GAAG,YAAerC,EAAS,eAC3C,OAANG,QAAM,IAANA,OAAM,EAANA,EAAQZ,YACPkC,EAAAA,EAAAA,KAAA,KAAGK,UAAU,aAAYH,SAAExB,EAAOZ,SAASuB,cAGxC,OAANX,QAAM,IAANA,OAAM,EAANA,EAAQP,WACP6B,EAAAA,EAAAA,KAAA,OAAKK,UAAU,QAAOH,UACpBF,EAAAA,EAAAA,KAAA,KAAGK,UAAU,aAAYH,SAAExB,EAAOP,QAAQkB,aAG9CW,EAAAA,EAAAA,KAAA,OAAAE,UACEF,EAAAA,EAAAA,KAAA,UAAQa,SAAUlC,EAAc0B,UAAU,kBAAiBH,SAAC,sBAUxE,C","sources":["webpack://client/./src/pages/Signin/Signin.module.scss?e86f","pages/Signin/Signin.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Signin_form__ho-Ga\"};","import styles from './Signin.module.scss';\nimport { useForm } from 'react-hook-form';\nimport * as yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { AuthContext } from '../../context';\nimport { useContext } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { UserSubmitForm } from 'types';\nimport { LoginForm } from 'interfaces';\ninterface SigninProps {}\nfunction Signin(props: SigninProps) {\n  const { signin, user } = useContext(AuthContext);\n  const validationSchema = yup.object({\n    email: yup\n      .string()\n      .required('Il faut préciser votre email')\n      .email(\"l'email n'est pas valide\"),\n    password: yup\n      .string()\n      .required('Il faut préciser votre mot de passe')\n      .min(6, 'Mot de passe trop court'),\n  });\n\n  const initialValues: Partial<LoginForm> = {\n    email: '',\n    password: '',\n    generic: ''\n  };\n\n\n  const {\n    handleSubmit,\n    register,\n    formState: { errors, isSubmitting },\n    setError,\n    clearErrors,\n  } = useForm<LoginForm>({\n    defaultValues: initialValues,\n    resolver: yupResolver(validationSchema),\n  });\n\n  const submit = handleSubmit(async (credentials) => {\n    try {\n      clearErrors();\n      await signin(credentials);\n    } catch (error) {\n      const message = (error as Error).message;\n      setError('generic', { type: 'generic', message });\n    }\n  });\n\n  return (\n    <>\n    { user ? (\n      <Navigate to=\"/profile\" />\n    ): (\n      <div className=\"flex-fill d-flex align-items-center justify-content-center\">\n        <form\n          onSubmit={submit}\n          className={`${styles.form} d-flex flex-column card p-20`}\n        >\n          <h2 className=\"mb-10\">Connexion</h2>\n          <div className=\"mb-10 d-flex flex-column\">\n            <label htmlFor=\"email\">Email</label>\n            <input type=\"text\" id=\"email\" {...register('email')} />\n            {errors?.email && (\n              <p className=\"form-error\">{errors.email.message}</p>\n            )}\n          </div>\n          <div className=\"mb-10 d-flex flex-column\">\n            <label htmlFor=\"password\">Password</label>\n            <input type=\"password\" id=\"password\" {...register('password')} />\n            {errors?.password && (\n              <p className=\"form-error\">{errors.password.message}</p>\n            )}\n          </div>\n          {errors?.generic && (\n            <div className=\"mb-10\">\n              <p className=\"form-error\">{errors.generic.message}</p>\n            </div>\n          )}\n          <div>\n            <button disabled={isSubmitting} className=\"btn btn-primary\">\n              Connexion\n            </button>\n          </div>\n        </form>\n      </div>\n    )}\n\n    </>\n  );\n}\n\nexport default Signin;"],"names":["props","_useContext","useContext","AuthContext","signin","user","validationSchema","yup","email","required","password","min","_useForm","useForm","defaultValues","generic","resolver","yupResolver","handleSubmit","register","_useForm$formState","formState","errors","isSubmitting","setError","clearErrors","submit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","credentials","message","wrap","_context","prev","next","t0","type","stop","_x","apply","arguments","_jsx","_Fragment","children","Navigate","to","className","_jsxs","onSubmit","concat","styles","htmlFor","_objectSpread","id","disabled"],"sourceRoot":""}