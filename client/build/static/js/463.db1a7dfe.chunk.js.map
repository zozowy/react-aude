{"version":3,"file":"static/js/463.db1a7dfe.chunk.js","mappings":"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","sources":["hooks/useFetchRecipes.js","webpack://client/./src/pages/Admin/pages/AdminRecipes/pages/AdminRecipesList/AdminRecipesList.module.scss?6983","pages/Admin/pages/AdminRecipes/pages/AdminRecipesList/AdminRecipesList.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { getRecipes } from \"../apis\";\n\nexport function useFetchRecipes(page) {\n    const [recipes, setRecipes] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState([]);\n    useEffect(() => {\n        let cancel = false;\n        async function fetchData() {\n            try {\n                setIsLoading(true);\n\n                const queryParam = new URLSearchParams();\n                if (page) {\n                    queryParam.append('skip', (page - 1) * 18 );\n                    queryParam.append('limit', 18 );\n                    queryParam.append('sort', 'createdAt:-1')\n                }\n                const fetchRecipes = await getRecipes(queryParam);\n                if (!cancel) {\n                    setRecipes(x => [...x, ...fetchRecipes]);\n                }\n                setRecipes(fetchRecipes)\n            } catch (e) {\n                console.log('ERREUR');\n                setError('Erreur');\n            } finally {\n                if (!cancel) {\n                    setIsLoading(false);\n                }\n\n            }\n        }\n        fetchData();\n        return () => cancel = true;\n    }, [page]);\n    return [[recipes, setRecipes], isLoading, error];\n\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"AdminRecipesList_list__gVlRB\"};","import { useFetchRecipes } from \"../../../../../../hooks/useFetchRecipes\";\nimport styles from \"./AdminRecipesList.module.scss\";\nimport { deleteRecipe as deleteR } from '../../../../../../apis';\nimport { NavLink } from \"react-router-dom\";\n\nexport default function AdminRecipesList() {\n    const [[recipes,  setRecipes]] = useFetchRecipes();\n    async function deleteRecipe(_id) {\n        await deleteR(_id);\n        setRecipes(recipes.filter((r) => r._id !== _id));\n    }\n    return (\n        <ul className={styles.list}>\n            { recipes.length ? recipes.map( r => (\n                <li key={ r._id} className=\"d-flex align-items-center\">\n                    <span className=\"flex-fill\">\n                        {r.title}\n                    </span>\n                    <NavLink to={`../edit/${r._id}`}>\n                        <button className=\"btn btn-primary mr-15\">Editer</button>\n                    </NavLink> \n                    <button onClick={ () => deleteRecipe(r._id)} className=\"btn btn-danger\">Supprimer</button>\n                </li>\n                )) : null }\n        </ul>\n    );\n}"],"names":["useFetchRecipes","page","_useState","useState","_useState2","_slicedToArray","recipes","setRecipes","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","error","setError","useEffect","cancel","_fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","queryParam","fetchRecipes","wrap","_context","prev","next","URLSearchParams","append","getRecipes","sent","x","concat","_toConsumableArray","t0","console","log","finish","stop","apply","arguments","fetchData","AdminRecipesList","_useFetchRecipes","_useFetchRecipes2","_useFetchRecipes2$","_deleteRecipe","_id","deleteR","filter","r","_jsx","className","styles","children","length","map","_jsxs","title","NavLink","to","onClick","_x","deleteRecipe"],"sourceRoot":""}