{"version":3,"file":"static/js/470.f36f515c.chunk.js","mappings":"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","sources":["hooks/useFetchRecipes.tsx","webpack://client/./src/pages/Homepage/Homepage.module.scss?c15b","webpack://client/./src/pages/Homepage/components/Recipe.module.scss?3efd","pages/Homepage/components/Recipe.tsx","webpack://client/./src/components/Loading/Loading.module.scss?0a17","components/Loading/Loading.tsx","webpack://client/./src/pages/Homepage/components/Search/Search.module.scss?45c8","pages/Homepage/components/Search/Search.tsx","data/recipes.tsx","data/seed.tsx","webpack://client/./src/pages/Homepage/components/Wishlist/Wishlist.module.scss?098a","pages/Homepage/components/Wishlist/Whishlist.tsx","pages/Homepage/Homepage.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { getRecipes } from \"../apis\";\nimport { useSetRecoilState } from \"recoil\";\nimport { recipesState } from \"state\";\n\n\nexport function useFetchRecipes(page?: number):[boolean, string] {\n   // const [recipes, setRecipes] = useState([]);\n    const setRecipes = useSetRecoilState(recipesState);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState('');\n\n    useEffect(() => {\n        let cancel = false;\n        async function fetchData() {\n            try {\n                setIsLoading(true);\n\n                const queryParam = new URLSearchParams();\n                if (page) {\n\n                    queryParam.append('limit', `${18}`);\n                    queryParam.append('skip', `${(page - 1) * 18}`);\n                    queryParam.append('sort', 'createdAt:-1');\n                }\n                const fetchedRecipes = await getRecipes(queryParam);\n                if (!cancel) {\n                    if (page && page !== 1) {\n                        setRecipes(x => [...x, ...fetchedRecipes]);\n                    } else {\n                        setRecipes(fetchedRecipes);\n                    }\n                }\n               // setRecipes(fetchRecipes)\n            } catch (e) {\n                console.log('ERREUR');\n                setError('Erreur');\n            } finally {\n                if (!cancel) {\n                    setIsLoading(false);\n                }\n\n            }\n        }\n        fetchData();\n        return () => {\n            cancel = true\n        };\n    }, [page, setRecipes]);\n    return [isLoading, error];\n\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"grid\":\"Homepage_grid__7Krgb\",\"contentCard\":\"Homepage_contentCard__nmv7+\",\"elem\":\"Homepage_elem__Pc9cE\",\"small\":\"Homepage_small__pOLGx\",\"title\":\"Homepage_title__3GBMm\"};","// extracted by mini-css-extract-plugin\nexport default {\"recipe\":\"Recipe_recipe__sC+LH\",\"recipeTitle\":\"Recipe_recipeTitle__YvfiK\",\"imageContainer\":\"Recipe_imageContainer__CJY22\"};","import { RecipeI } from \"interfaces\";\nimport styles from \"./Recipe.module.scss\";\nimport { ObjectId } from \"types\";\nimport { MouseEvent } from \"react\";\n\nfunction Recipe({\n\trecipe,\n\tupdateRecipe,\n\tdeleteRecipe\n}: {\n\trecipe: RecipeI,\n\tupdateRecipe: (x: RecipeI) => Promise<void>,\n\tdeleteRecipe: (x: ObjectId) => Promise<void>,\n}) {\n\tfunction handleClickLike() {\n\t\tupdateRecipe({\n\t\t\t...recipe,\n\t\t\tliked: !recipe.liked,\n\t\t})\n\n\t}\n\tasync function handleClickDelete(e: MouseEvent<HTMLElement>) {\n\t\t//to prevent to like a deleted recipe\n\t\te.stopPropagation();\n\t\tdeleteRecipe(recipe._id);\n\n\t}\n\treturn (\n\t\t<div onClick={handleClickLike} className={styles.recipe}>\n\t\t\t<i onClick={handleClickDelete} className=\"fa-solid fa-xmark\"></i>\n\t\t\t<div className={styles.imageContainer}>\n\t\t\t\t<img src={recipe.image} alt=\"recipe\" />\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName={`${styles.recipeTitle} d-flex flex-column justify-content-center align-items-center`}\n\t\t\t>\n\t\t\t\t<h3 className=\"mb-10\">{recipe.title}</h3>\n\t\t\t\t<i className={`fa-solid fa-heart ${recipe.liked ? \"text-primary\" : \"\"}`}></i>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Recipe;","// extracted by mini-css-extract-plugin\nexport default {\"spinner\":\"Loading_spinner__Y9jaO\",\"rotate\":\"Loading_rotate__ZztiU\"};","import style from './Loading.module.scss';\nfunction Loading() {\n    return (<div className=\"d-flex flex-row align-items-center justify-content-center flex-fill\">\n        <i className={ `fa-solid fa-spinner ${style.spinner}` }> </i>\n    </div>);\n}\nexport default Loading;","// extracted by mini-css-extract-plugin\nexport default {\"searchBar\":\"Search_searchBar__zrAay\"};","import { Dispatch, SetStateAction, ChangeEvent } from 'react';\nimport styles from './Search.module.scss';\nfunction Search({ setFilter}: { setFilter: Dispatch<SetStateAction<string>>}) {\n\n    function handleInput(e: ChangeEvent<HTMLInputElement>) {\n        const filter = e.target.value;\n        if (filter !== 'undefined' && filter.length > 0) {\n            setFilter(filter.trim().toLowerCase());\n        }\n    }\n\n    return (\n        <div className={`d-flex flex-row justify-content-center align-items-center my-30 ${styles.searchBar}`}>\n            <i className='fa-solid fa-magnifying-glass mr-15'></i>\n            <input onInput={handleInput} className=\"flex-fill \" type=\"text\" placeholder='Rechercher' />\n        </div>\n    );\n}\n    export default Search;","export const data = [\n    {\n        title: 'burger',\n        image: 'https://images.unsplash.com/photo-1569691802417-e5e1ec314e81?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=686&q=80'\n    },\n    {\n        title: 'Soupe de légumes 2',\n        image: 'https://images.unsplash.com/photo-1609595781576-1580ff3ee291?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxjb2xsZWN0aW9uLXBhZ2V8MTB8TlR1UHVaTjJaSzR8fGVufDB8fHx8&auto=format&fit=crop&w=400&q=20'\n    },\n    {\n        title: 'Soupe de légumes 3',\n        image: 'https://images.unsplash.com/photo-1681217684376-82f841d33f18?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxM3x8fGVufDB8fHx8&auto=format&fit=crop&w=400&q=400',\n    },\n    {\n        title: 'Soupe de légumes 4',\n        image: 'https://images.unsplash.com/photo-1574484284002-952d92456975?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80',\n    },\n    {\n        title: 'Soupe de légumes 5',\n        image: 'https://images.unsplash.com/photo-1569691802417-e5e1ec314e81?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=686&q=80',\n    },\n    {\n        title: 'Soupe de légumes 6',\n        image: 'https://images.unsplash.com/photo-1574484284002-952d92456975?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80'\n    },\n    {\n        title: 'Soupe de légumes 7',\n        image: 'https://images.unsplash.com/photo-1569691802417-e5e1ec314e81?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=686&q=80',\n    },\n    {\n        title: 'Soupe de légumes 8',\n        image: 'https://images.unsplash.com/photo-1574484284002-952d92456975?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80',\n    },\n    {\n        title: 'Soupe de légumes 9',\n        image: 'https://images.unsplash.com/photo-1569691802417-e5e1ec314e81?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=686&q=80',\n    },\n    {\n        title: 'Soupe de légumes 10',\n        image: 'https://images.unsplash.com/photo-1574484284002-952d92456975?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80',\n    },\n];","import {data} from './recipes';\n\nexport async function seedRecipes() {\n    await fetch(`https://restapi.fr/api/recipes`, {\n            method:'POST',\n            body: JSON.stringify(data),\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n}","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Wishlist_container__bV1Os\",\"whishlist\":\"Wishlist_whishlist__mKOXs\",\"appear\":\"Wishlist_appear__Z5IvR\",\"remove\":\"Wishlist_remove__pl8Mf\",\"disappear\":\"Wishlist_disappear__iZlLJ\"};","import { useRecoilValue, useSetRecoilState } from \"recoil\";\nimport styles from \"./Wishlist.module.scss\";\nimport { recipesState, selectWishedRecipes, wishtlistDisplayState } from \"state\";\nimport { updateRecipe } from \"apis\";\nimport { useState } from \"react\";\nimport { RecipeI } from \"interfaces\";\n\nexport function Wishlist() {\n    const setWishlistDisplay = useSetRecoilState(wishtlistDisplayState);\n    const whishedRecipes = useRecoilValue(selectWishedRecipes);\n    const setRecipes = useSetRecoilState(recipesState);\n    const [remove, setRemove] = useState(false);\n    async function handleClick(recipe: RecipeI) {\n        const updatedRecipe = await updateRecipe({ ...recipe, liked: false });\n        setRecipes((oldRecipes) => oldRecipes.map(or => or._id === updatedRecipe._id ? updatedRecipe : or));\n    }\n    function handleRemoveWishlist() {\n        if (!remove) {\n            setTimeout(() => { setWishlistDisplay(false) }, 200);\n            setRemove(true);\n        }\n    }\n\n\n    return (\n        <div onClick={handleRemoveWishlist} className={styles.container}>\n            <div onClick={(e) => e.stopPropagation()} className={`${styles.whishlist} ${remove ? styles.remove : ''}`}>\n                <h4>Whishlist</h4>\n                <ul>\n                    {whishedRecipes.length ? whishedRecipes.map(r => (\n                        <li key={r._id} className=\"d-flex align-items-center mb-10\">\n                            <span className=\"flex-fill mr-15\">\n                                {r.title}\n                            </span>\n                            <button onClick={() => handleClick(r)} className=\"btn btn-danger\"><i className=\"fa-solid fa-trash\"></i></button>\n                        </li>\n                    )) : null}\n                </ul>\n\n            </div>\n        </div>\n    );\n}","import { useState } from 'react';\nimport styles from './Homepage.module.scss';\nimport Recipe from './components/Recipe';\nimport Loading from 'components/Loading/Loading';\nimport Search from './components/Search/Search';\nimport { useFetchRecipes } from '../../hooks';\nimport { updateRecipe as updateR, deleteRecipe as deleteR } from '../../apis';\nimport { useRecoilValue, useSetRecoilState } from 'recoil';\nimport { recipesState, selectFilteredRecipes, wishtlistDisplayState } from 'state';\nimport { seedRecipes } from '../../data/seed';\nimport { Wishlist } from './components/Wishlist/Whishlist';\nimport { RecipeI } from 'interfaces';\nimport { ObjectId } from 'types';\n//import { data } from '../../data/recipes';\n\nfunction Homepage() {\n    const [filter, setFilter] = useState('');\n    const [page, setPage] = useState(1);\n    //const [[recipes, setRecipes], isLoading] = useFetchRecipes(page)\n    const [isLoading] = useFetchRecipes(page)\n    const recipes = useRecoilValue(selectFilteredRecipes(filter));\n    const setRecipes = useSetRecoilState(recipesState);\n    const showWishlist = useRecoilValue(wishtlistDisplayState);\n    async function updateRecipe(updatedRecipe: RecipeI) {\n        const savedRecipe = await updateR(updatedRecipe);\n\n        setRecipes(recipes.map((r) => (r._id === savedRecipe._id ? savedRecipe : r)));\n    }\n    async function deleteRecipe(_id: ObjectId) {\n        await deleteR(_id);\n        setRecipes(recipes.filter((r) => r._id !== _id));\n    }\n    return (\n        <>\n            <div className=\"flex-fill container d-flex flex-column p-20\">\n                <h1 className={ `my-30 ${styles.title}`}>Découvrez nos nouvelles recettes<small className={styles.small}>( {recipes.length} )</small></h1>\n                <div className={`card flex-fill flex-column p-20 mb-20${styles.contentCard}`}>\n                    <div className=\"d-flex flex-row align-items-center justify-content-center p-20\">\n                        <button onClick={() => seedRecipes()} className=\"btn btn-primary\"> importer des recettes (2 ou 3 fois si pas de recette... puis actualiser)\n\n                        </button>\n                    </div>\n                    <Search setFilter={setFilter} />\n                    {isLoading && !recipes.length ? (\n                        <Loading />\n                    ) : (\n                        <div className={styles.grid}>\n                            {Object.values(recipes)\n                                .filter((r) => r.title.toLowerCase().startsWith(filter))\n                                .map(r => (\n                                    <Recipe\n                                        key={r._id}\n                                        recipe={r}\n                                        updateRecipe={updateRecipe}\n                                        deleteRecipe={deleteRecipe}\n                                    />\n                                ))}\n                        </div>\n                    )}\n                    <div className=\"d-flex flex-row align-items-center justify-content-center p-20\">\n                        <button onClick={() => setPage(page + 1)} className=\"btn btn-primary\"> Charger plus de recettes page n° {page}\n\n                        </button>\n                    </div>\n                </div>\n            </div>\n            { showWishlist && <Wishlist/>}\n        </>\n\n    );\n}\n\nexport default Homepage;\n"],"names":["useFetchRecipes","page","setRecipes","useSetRecoilState","recipesState","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","error","setError","useEffect","cancel","_fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","queryParam","fetchedRecipes","wrap","_context","prev","next","URLSearchParams","append","concat","getRecipes","sent","x","_toConsumableArray","t0","console","log","finish","stop","apply","arguments","fetchData","_ref","recipe","updateRecipe","deleteRecipe","_handleClickDelete","e","stopPropagation","_id","_jsxs","onClick","_objectSpread","liked","className","styles","children","_jsx","_x","src","image","alt","title","style","setFilter","onInput","filter","target","value","length","trim","toLowerCase","type","placeholder","data","_seedRecipes","fetch","method","body","JSON","stringify","headers","Wishlist","setWishlistDisplay","wishtlistDisplayState","whishedRecipes","useRecoilValue","selectWishedRecipes","remove","setRemove","_handleClick","updatedRecipe","oldRecipes","map","or","setTimeout","r","handleClick","setPage","_useFetchRecipes","recipes","selectFilteredRecipes","showWishlist","_updateRecipe","savedRecipe","updateR","_x2","_deleteRecipe","_callee2","_context2","deleteR","_Fragment","seedRecipes","Search","Loading","Object","values","startsWith","Recipe"],"sourceRoot":""}