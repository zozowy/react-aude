"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[959],{3959:function(e,r,n){n.r(r),n.d(r,{default:function(){return x}});var s=n(1413),a=n(4165),t=n(5861),i=n(1134),c={form:"Signup_form__djdYU"},l=n(6727),m=n(4695),o="/api/users";function u(e){return d.apply(this,arguments)}function d(){return(d=(0,t.Z)((0,a.Z)().mark((function e(r){var n,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o),e.next=3,fetch("".concat(o),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 3:return n=e.sent,e.next=6,n.json();case 6:if(s=e.sent,!n.ok){e.next=11;break}return e.abrupt("return",s);case 11:if(!s){e.next=15;break}throw s;case 15:throw new Error("Error api creatUser");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=n(7689),f=n(184);function x(){var e=(0,p.s0)(),r=l.Ry({name:l.Z_().required("Pr\xe9cisez votre nom svp").min(2,"au moins 2 caract\xe8res !!"),email:l.Z_().required("il faut renseigner email").email("l'email n'est pas valide"),password:l.Z_().required("Renseignez un mdp svp").min(6,"au moins 6 caract\xe8res")}),n=(0,i.cI)({initialValues:{name:"",email:"",password:""},resolver:(0,m.X)(r)}),o=n.handleSubmit,d=n.register,x=n.formState,h=x.errors,j=x.isSubmitting,b=n.setError,v=n.clearErrors,g=o(function(){var r=(0,t.Z)((0,a.Z)().mark((function r(n){return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,v(),r.next=4,u(n);case 4:e("/signin"),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),b("generic",{type:"generic",message:r.t0});case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}());return(0,f.jsx)("div",{className:"flex-fill d-flex align-items-center justify-content-center",children:(0,f.jsxs)("form",{onSubmit:g,className:"".concat(c.form," d-flex flex-column card p-20"),children:[(0,f.jsx)("h2",{className:"mb-10",children:"Inscription"}),(0,f.jsxs)("div",{className:"mb-10 d-flex flex-column",children:[(0,f.jsx)("label",{htmlFor:"name",children:"Nom"}),(0,f.jsx)("input",(0,s.Z)({type:"text",name:"name"},d("name"))),h.name&&(0,f.jsx)("p",{className:"form-error",children:h.name.message})]}),(0,f.jsxs)("div",{className:"mb-10 d-flex flex-column",children:[(0,f.jsx)("label",{htmlFor:"email",children:"Email"}),(0,f.jsx)("input",(0,s.Z)({type:"text",name:"email"},d("email"))),h.email&&(0,f.jsx)("p",{className:"form-error",children:h.email.message})]}),(0,f.jsxs)("div",{className:"mb-10 d-flex flex-column",children:[(0,f.jsx)("label",{htmlFor:"name",children:"Password"}),(0,f.jsx)("input",(0,s.Z)({type:"text",name:"password"},d("password"))),h.password&&(0,f.jsx)("p",{className:"form-error",children:h.password.message})]}),h.generic&&(0,f.jsx)("div",{className:"mb-10",children:(0,f.jsx)("p",{className:"form-error",children:h.generic.message})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{disabled:j,className:"btn btn-primary",children:" Inscription"})})]})})}}}]);
//# sourceMappingURL=959.09583f39.chunk.js.map