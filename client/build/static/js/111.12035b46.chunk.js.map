{"version":3,"file":"static/js/111.12035b46.chunk.js","mappings":"oLACA,EAAuB,qB,qEC0FvB,MAnFA,WACE,IAAAA,GAAyBC,EAAAA,EAAAA,YAAWC,EAAAA,GAA5BC,EAAMH,EAANG,OAAQC,EAAIJ,EAAJI,KACVC,EAAmBC,EAAAA,GAAW,CAClCC,MAAOD,EAAAA,KAEJE,SAAS,mCACTD,MAAM,4BACTE,SAAUH,EAAAA,KAEPE,SAAS,0CACTE,IAAI,EAAG,6BAQZC,GAMIC,EAAAA,EAAAA,IAAQ,CACVC,cAZoB,CACpBN,MAAO,GACPE,SAAU,IAWVK,UAAUC,EAAAA,EAAAA,GAAYV,KAPtBW,EAAYL,EAAZK,aACAC,EAAQN,EAARM,SAAQC,EAAAP,EACRQ,UAAaC,EAAMF,EAANE,OAAQC,EAAYH,EAAZG,aACrBC,EAAQX,EAARW,SACAC,EAAWZ,EAAXY,YAMIC,EAASR,EAAY,eAAAS,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAC,SAAAC,EAAOC,GAAW,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAE5B,OAF4BF,EAAAC,KAAA,EAE1CV,IAAcS,EAAAE,KAAA,EACR/B,EAAO2B,GAAa,KAAD,EAAAE,EAAAE,KAAA,eAAAF,EAAAC,KAAA,EAAAD,EAAAG,GAAAH,EAAA,SAEzBV,EAAS,UAAW,CAAEc,KAAM,UAAWC,QAAOL,EAAAG,KAAI,wBAAAH,EAAAM,OAAA,GAAAT,EAAA,kBAErD,gBAAAU,GAAA,OAAAd,EAAAe,MAAA,KAAAC,UAAE,CAAF,CAP0B,IAS3B,OACEC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SACExC,GACAsC,EAAAA,EAAAA,KAACG,EAAAA,GAAQ,CAACC,GAAG,cAIbJ,EAAAA,EAAAA,KAAA,OAAKK,UAAU,6DAA4DH,UACzEI,EAAAA,EAAAA,MAAA,QACEC,SAAUzB,EACVuB,UAAS,GAAAG,OAAKC,EAAW,iCAAgCP,SAAA,EAEzDF,EAAAA,EAAAA,KAAA,MAAIK,UAAU,QAAOH,SAAC,eACtBI,EAAAA,EAAAA,MAAA,OAAKD,UAAU,2BAA0BH,SAAA,EACvCF,EAAAA,EAAAA,KAAA,SAAOU,QAAQ,QAAOR,SAAC,WACvBF,EAAAA,EAAAA,KAAA,SAAAW,EAAAA,EAAAA,GAAA,CAAOjB,KAAK,OAAOkB,KAAK,SAAYrC,EAAS,WAC5CG,EAAOb,QACNmC,EAAAA,EAAAA,KAAA,KAAGK,UAAU,aAAYH,SAAExB,EAAOb,MAAM8B,cAG5CW,EAAAA,EAAAA,MAAA,OAAKD,UAAU,2BAA0BH,SAAA,EACvCF,EAAAA,EAAAA,KAAA,SAAOU,QAAQ,WAAUR,SAAC,cAC1BF,EAAAA,EAAAA,KAAA,SAAAW,EAAAA,EAAAA,GAAA,CAAOjB,KAAK,WAAWkB,KAAK,YAAerC,EAAS,cACnDG,EAAOX,WACNiC,EAAAA,EAAAA,KAAA,KAAGK,UAAU,aAAYH,SAAExB,EAAOX,SAAS4B,aAG9CjB,EAAOmC,UACNb,EAAAA,EAAAA,KAAA,OAAKK,UAAU,QAAOH,UACpBF,EAAAA,EAAAA,KAAA,KAAGK,UAAU,aAAYH,SAAExB,EAAOmC,QAAQlB,aAG9CK,EAAAA,EAAAA,KAAA,OAAAE,UACEF,EAAAA,EAAAA,KAAA,UAAQc,SAAUnC,EAAc0B,UAAU,kBAAiBH,SAAC,sBAUxE,C","sources":["webpack://client/./src/pages/Signin/Signin.module.scss?e86f","pages/Signin/Signin.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Signin_form__ho-Ga\"};","import styles from './Signin.module.scss';\nimport { useForm } from 'react-hook-form';\nimport * as yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { AuthContext } from '../../context';\nimport { useContext } from 'react';\nimport { Navigate } from 'react-router-dom';\n\nfunction Signin() {\n  const { signin, user } = useContext(AuthContext);\n  const validationSchema = yup.object({\n    email: yup\n      .string()\n      .required('Il faut préciser votre email')\n      .email(\"l'email n'est pas valide\"),\n    password: yup\n      .string()\n      .required('Il faut préciser votre mot de passe')\n      .min(6, 'Mot de passe trop court'),\n  });\n\n  const initialValues = {\n    email: '',\n    password: '',\n  };\n\n  const {\n    handleSubmit,\n    register,\n    formState: { errors, isSubmitting },\n    setError,\n    clearErrors,\n  } = useForm({\n    initialValues,\n    resolver: yupResolver(validationSchema),\n  });\n\n  const submit = handleSubmit(async (credentials) => {\n    try {\n      clearErrors();\n      await signin(credentials);\n    } catch (message) {\n      setError('generic', { type: 'generic', message });\n    }\n  });\n\n  return (\n    <>\n    { user ? (\n      <Navigate to=\"/profile\" />\n\n      \n    ): (\n      <div className=\"flex-fill d-flex align-items-center justify-content-center\">\n        <form\n          onSubmit={submit}\n          className={`${styles.form} d-flex flex-column card p-20`}\n        >\n          <h2 className=\"mb-10\">Connexion</h2>\n          <div className=\"mb-10 d-flex flex-column\">\n            <label htmlFor=\"email\">Email</label>\n            <input type=\"text\" name=\"email\" {...register('email')} />\n            {errors.email && (\n              <p className=\"form-error\">{errors.email.message}</p>\n            )}\n          </div>\n          <div className=\"mb-10 d-flex flex-column\">\n            <label htmlFor=\"password\">Password</label>\n            <input type=\"password\" name=\"password\" {...register('password')} />\n            {errors.password && (\n              <p className=\"form-error\">{errors.password.message}</p>\n            )}\n          </div>\n          {errors.generic && (\n            <div className=\"mb-10\">\n              <p className=\"form-error\">{errors.generic.message}</p>\n            </div>\n          )}\n          <div>\n            <button disabled={isSubmitting} className=\"btn btn-primary\">\n              Connexion\n            </button>\n          </div>\n        </form>\n      </div>\n    )}\n\n    </>\n  );\n}\n\nexport default Signin;"],"names":["_useContext","useContext","AuthContext","signin","user","validationSchema","yup","email","required","password","min","_useForm","useForm","initialValues","resolver","yupResolver","handleSubmit","register","_useForm$formState","formState","errors","isSubmitting","setError","clearErrors","submit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","credentials","wrap","_context","prev","next","t0","type","message","stop","_x","apply","arguments","_jsx","_Fragment","children","Navigate","to","className","_jsxs","onSubmit","concat","styles","htmlFor","_objectSpread","name","generic","disabled"],"sourceRoot":""}