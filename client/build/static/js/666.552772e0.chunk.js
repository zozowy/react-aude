"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[666],{4605:function(e,t,n){n.d(t,{D:function(){return o}});var r=n(4165),c=n(3433),i=n(5861),a=n(9439),s=n(2791),l=n(2122);function o(e){var t=(0,s.useState)([]),n=(0,a.Z)(t,2),o=n[0],u=n[1],f=(0,s.useState)(!0),p=(0,a.Z)(f,2),d=p[0],m=p[1],h=(0,s.useState)([]),x=(0,a.Z)(h,2),v=x[0],j=x[1];return(0,s.useEffect)((function(){var t=!1;function n(){return(n=(0,i.Z)((0,r.Z)().mark((function n(){var i,a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,m(!0),i=new URLSearchParams,e&&(i.append("skip",18*(e-1)),i.append("limit",18),i.append("sort","createdAt:-1")),n.next=6,(0,l.iM)(i);case 6:a=n.sent,t||u((function(e){return[].concat((0,c.Z)(e),(0,c.Z)(a))})),u(a),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),console.log("ERREUR"),j("Erreur");case 15:return n.prev=15,t||m(!1),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[0,11,15,18]])})))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){return t=!0}}),[e]),[[o,u],d,v]}},9666:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var r=n(4165),c=n(5861),i=n(9439),a=n(2791),s="Homepage_grid__7Krgb",l="Homepage_contentCard__nmv7+",o="Homepage_small__pOLGx",u=n(1413),f="Recipe_recipe__sC+LH",p="Recipe_recipeTitle__YvfiK",d="Recipe_imageContainer__CJY22",m=n(184);var h=function(e){var t=e.recipe,n=e.updateRecipe,i=e.deleteRecipe;function a(){return(a=(0,c.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.stopPropagation(),i(t._id);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,m.jsxs)("div",{onClick:function(){n((0,u.Z)((0,u.Z)({},t),{},{liked:!t.liked}))},className:f,children:[(0,m.jsx)("i",{onClick:function(e){return a.apply(this,arguments)},className:"fa-solid fa-xmark"}),(0,m.jsx)("div",{className:d,children:(0,m.jsx)("img",{src:t.image,alt:"recipe"})}),(0,m.jsxs)("div",{className:"".concat(p," d-flex flex-column justify-content-center align-items-center"),children:[(0,m.jsx)("h3",{className:"mb-10",children:t.title}),(0,m.jsx)("i",{className:"fa-solid fa-heart ".concat(t.liked?"text-primary":"")})]})]})},x="Loading_spinner__Y9jaO";var v=function(){return(0,m.jsx)("div",{className:"d-flex flex-row align-items-center justify-content-center flex-fill",children:(0,m.jsx)("i",{className:"fa-solid fa-spinner ".concat(x),children:" "})})},j="Search_searchBar__zrAay";var g=function(e){var t=e.setFilter;return(0,m.jsxs)("div",{className:"d-flex flex-row justify-content-center align-items-center my-30 ".concat(j),children:[(0,m.jsx)("i",{className:"fa-solid fa-magnifying-glass mr-15"}),(0,m.jsx)("input",{onInput:function(e){var n=e.target.value;"undefined"!==n&&n.length>0&&t(n.trim().toLowerCase())},className:"flex-fill ",type:"text",placeholder:"Rechercher"})]})},y=n(4605),_=n(2122);var Z=function(){var e=(0,a.useState)(""),t=(0,i.Z)(e,2),n=t[0],u=t[1],f=(0,a.useState)(1),p=(0,i.Z)(f,2),d=p[0],x=p[1],j=(0,y.D)(d),Z=(0,i.Z)(j,2),b=(0,i.Z)(Z[0],2),w=b[0],O=b[1],k=Z[1];function N(e){return C.apply(this,arguments)}function C(){return(C=(0,c.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.DI)(t);case 2:n=e.sent,O(w.map((function(e){return e._id===n._id?n:e})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return P.apply(this,arguments)}function P(){return(P=(0,c.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.eI)(t);case 2:O(w.filter((function(e){return e._id!==t})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,m.jsxs)("div",{className:"flex-fill container d-flex flex-column p-20",children:[(0,m.jsxs)("h1",{className:"my-30",children:["D\xe9couvrez nos nouvelles recettes ",(0,m.jsxs)("small",{className:o,children:["( ",w.length," )"]})]}),(0,m.jsxs)("div",{className:"card flex-fill flex-column p-20 mb-20".concat(l),children:[(0,m.jsx)(g,{setFilter:u}),k&&!w.length?(0,m.jsx)(v,{}):(0,m.jsx)("div",{className:s,children:w.filter((function(e){return e.title?e.title.toLowerCase().startsWith(n):"notitle"})).map((function(e){return(0,m.jsx)(h,{recipe:e,updateRecipe:N,deleteRecipe:R},e._id)}))}),(0,m.jsx)("div",{className:"d-flex flex-row align-items-center justify-content-center p-20",children:(0,m.jsx)("button",{onClick:function(){return x(d+1)},className:"btn btn-primary",children:" Charger plus de recettes"})})]})]})}},1413:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(4942);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=666.552772e0.chunk.js.map