{"version":3,"file":"static/js/407.3825b7e0.chunk.js","mappings":"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","sources":["apis/recipe.js","hooks/useFetchRecipes.js","webpack://client/./src/pages/Homepage/Homepage.module.scss?c15b","webpack://client/./src/pages/Homepage/components/Recipe.module.scss?3efd","pages/Homepage/components/Recipe.js","webpack://client/./src/components/Loading/Loading.module.scss?0a17","components/Loading/Loading.js","webpack://client/./src/pages/Homepage/components/Search/Search.module.scss?45c8","pages/Homepage/components/Search/Search.js","data/recipes.js","data/seed.js","pages/Homepage/Homepage.js","state/atoms.js","state/selectors.js"],"sourcesContent":["const RECIPE_API = 'https://restapi.fr/api/recipes';\nexport async function getRecipes(queryParam) {\n    const response = await fetch(`${RECIPE_API}${queryParam ? `?${queryParam}` : ''}`);\n    if (response.ok) {\n        const body = await response.json();\n        return Array.isArray(body) ? body : [body];\n    } else {\n        throw new Error('Error fetch recipes')\n    }\n}\nexport async function getRecipe(_id) {\n    const response = await fetch(`${RECIPE_API}/${_id}`);\n    if (response.ok) {\n        return response.json();\n    } else {\n        throw new Error('Error fetch getRecipe')\n    }\n}\nexport async function deleteRecipe(_id) {\n    const response = await fetch(`${RECIPE_API}/${_id}`, {\n        method: 'DELETE',\n    });\n    if (response.ok) {\n        return _id;\n    } else {\n        throw new Error('Error delete recipe');\n    }\n\n}\nexport async function updateRecipe(updatedRecipe) {\n\n    const { _id, ...restRecipe } = updatedRecipe\n    const response = await fetch(`${RECIPE_API}/${_id}`, {\n        method: 'PATCH',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(restRecipe)\n    });\n    if (response.ok) {\n        return response.json();\n    } else {\n        throw new Error('Error update recipe')\n    }\n}\n\nexport async function createRecipe(newRecipe) { \n    const response = await fetch(`${RECIPE_API}`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newRecipe)\n    });\n    if (response.ok) {\n        return response.json();\n    } else {\n        throw new Error('Error create recipe')\n    }\n}","import { useEffect, useState } from \"react\";\nimport { getRecipes } from \"../apis\";\nimport { useSetRecoilState } from \"recoil\";\nimport { recipesState } from \"state\";\n\n\nexport function useFetchRecipes(page) {\n   // const [recipes, setRecipes] = useState([]);\n    const setRecipes = useSetRecoilState(recipesState);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState([]);\n\n    useEffect(() => {\n        let cancel = false;\n        async function fetchData() {\n            try {\n                setIsLoading(true);\n\n                const queryParam = new URLSearchParams();\n                if (page) {\n                    \n                    queryParam.append('limit', 18);\n                    queryParam.append('skip', (page - 1) * 18);\n                    queryParam.append('sort', 'createdAt:-1');\n                }\n                const fetchedRecipes = await getRecipes(queryParam);\n                if (!cancel) {\n                    if (page && page !== 1) {\n                        setRecipes(x => [...x, ...fetchedRecipes]);\n                    } else {\n                        setRecipes(fetchedRecipes);\n                    }\n                }\n               // setRecipes(fetchRecipes)\n            } catch (e) {\n                console.log('ERREUR');\n                setError('Erreur');\n            } finally {\n                if (!cancel) {\n                    setIsLoading(false);\n                }\n\n            }\n        }\n        fetchData();\n        return () => cancel = true;\n    }, [page, setRecipes]);\n    return [isLoading, error];\n\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"grid\":\"Homepage_grid__7Krgb\",\"contentCard\":\"Homepage_contentCard__nmv7+\",\"elem\":\"Homepage_elem__Pc9cE\",\"small\":\"Homepage_small__pOLGx\"};","// extracted by mini-css-extract-plugin\nexport default {\"recipe\":\"Recipe_recipe__sC+LH\",\"recipeTitle\":\"Recipe_recipeTitle__YvfiK\",\"imageContainer\":\"Recipe_imageContainer__CJY22\"};","import styles from \"./Recipe.module.scss\";\n\nfunction Recipe({\n\trecipe,\n\tupdateRecipe,\n\tdeleteRecipe }) {\n\tfunction handleClickLike() {\n\t\tupdateRecipe({\n\t\t\t...recipe,\n\t\t\tliked: !recipe.liked,\n\t\t})\n\n\t}\n\tasync function handleClickDelete(e) {\n\t\t//to prevent to like a deleted recipe\n\t\te.stopPropagation();\n\t\tdeleteRecipe(recipe._id);\n\n\t}\n\treturn (\n\t\t<div onClick={handleClickLike} className={styles.recipe}>\n\t\t\t<i onClick={handleClickDelete} className=\"fa-solid fa-xmark\"></i>\n\t\t\t<div className={styles.imageContainer}>\n\t\t\t\t<img src={recipe.image} alt=\"recipe\" />\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName={`${styles.recipeTitle} d-flex flex-column justify-content-center align-items-center`}\n\t\t\t>\n\t\t\t\t<h3 className=\"mb-10\">{recipe.title}</h3>\n\t\t\t\t<i className={`fa-solid fa-heart ${recipe.liked ? \"text-primary\" : \"\"}`}></i>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Recipe;","// extracted by mini-css-extract-plugin\nexport default {\"spinner\":\"Loading_spinner__Y9jaO\",\"rotate\":\"Loading_rotate__ZztiU\"};","import style from './Loading.module.scss';\nfunction Loading() {\n    return (<div className=\"d-flex flex-row align-items-center justify-content-center flex-fill\">\n        <i className={ `fa-solid fa-spinner ${style.spinner}` }> </i>\n    </div>);\n}\nexport default Loading;","// extracted by mini-css-extract-plugin\nexport default {\"searchBar\":\"Search_searchBar__zrAay\"};","import styles from './Search.module.scss';\nfunction Search({ setFilter}) {\n\n    function handleInput(e) {\n        const filter = e.target.value;\n        if (filter !== 'undefined' && filter.length > 0) {\n            setFilter(filter.trim().toLowerCase());\n        }\n        \n    }\n\n    return (\n        <div className={`d-flex flex-row justify-content-center align-items-center my-30 ${styles.searchBar}`}>\n            <i className='fa-solid fa-magnifying-glass mr-15'></i>\n            <input onInput={handleInput} className=\"flex-fill \" type=\"text\" placeholder='Rechercher' />\n        </div>\n    );\n}\n    export default Search;","export const data = [\n    {\n        title: 'burger',\n        image: 'https://images.unsplash.com/photo-1569691802417-e5e1ec314e81?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=686&q=80'\n    },\n    {\n        title: 'Soupe de légumes 2',\n        image: 'https://images.unsplash.com/photo-1609595781576-1580ff3ee291?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxjb2xsZWN0aW9uLXBhZ2V8MTB8TlR1UHVaTjJaSzR8fGVufDB8fHx8&auto=format&fit=crop&w=400&q=20'\n    },\n    {\n        title: 'Soupe de légumes 3',\n        image: 'https://images.unsplash.com/photo-1681217684376-82f841d33f18?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxM3x8fGVufDB8fHx8&auto=format&fit=crop&w=400&q=400',\n    },\n    {\n        title: 'Soupe de légumes 4',\n        image: 'https://images.unsplash.com/photo-1574484284002-952d92456975?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80',\n    },\n    {\n        title: 'Soupe de légumes 5',\n        image: 'https://images.unsplash.com/photo-1569691802417-e5e1ec314e81?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=686&q=80',\n    },\n    {\n        title: 'Soupe de légumes 6',\n        image: 'https://images.unsplash.com/photo-1574484284002-952d92456975?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80'\n    },\n    {\n        title: 'Soupe de légumes 7',\n        image: 'https://images.unsplash.com/photo-1569691802417-e5e1ec314e81?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=686&q=80',\n    },\n    {\n        title: 'Soupe de légumes 8',\n        image: 'https://images.unsplash.com/photo-1574484284002-952d92456975?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80',\n    },\n    {\n        title: 'Soupe de légumes 9',\n        image: 'https://images.unsplash.com/photo-1569691802417-e5e1ec314e81?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=686&q=80',\n    },\n    {\n        title: 'Soupe de légumes 10',\n        image: 'https://images.unsplash.com/photo-1574484284002-952d92456975?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80',\n    },\n];","import {data} from './recipes';\n\nexport async function seedRecipes() {\n    await fetch(`https://restapi.fr/api/recipes`, {\n            method:'POST',\n            body: JSON.stringify(data),\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n}","import { useState } from 'react';\nimport styles from './Homepage.module.scss';\nimport Recipe from './components/Recipe';\nimport Loading from 'components/Loading/Loading';\nimport Search from './components/Search/Search';\nimport {  useFetchRecipes } from '../../hooks';\nimport { updateRecipe as updateR, deleteRecipe as deleteR } from '../../apis';\nimport { useRecoilValue, useSetRecoilState } from 'recoil';\nimport { recipesState, selectFilteredRecipes } from 'state';\nimport { seedRecipes } from '../../data/seed';\n//import { data } from '../../data/recipes';\n\nfunction Homepage() {\n    const [filter, setFilter] = useState('');\n    const [page, setPage] = useState(1);\n    //const [[recipes, setRecipes], isLoading] = useFetchRecipes(page)\n    const [ isLoading ]= useFetchRecipes(page)\n    const recipes = useRecoilValue(selectFilteredRecipes(filter));\n    const setRecipes = useSetRecoilState(recipesState)\n    async function updateRecipe(updatedRecipe) {\n        const savedRecipe = await updateR(updatedRecipe);\n\n        setRecipes(recipes.map((r) => (r._id === savedRecipe._id ? savedRecipe : r)));\n    }\n    async function deleteRecipe(_id) {\n        await deleteR(_id);\n        setRecipes(recipes.filter((r) => r._id !== _id));\n    }\n    return (\n        <div className=\"flex-fill container d-flex flex-column p-20\">\n            <h1 className=\"my-30\">Découvrez nos nouvelles recettes<small className={styles.small}>( {recipes.length} )</small></h1>\n            <div className={`card flex-fill flex-column p-20 mb-20${styles.contentCard}`}>\n                <div className=\"d-flex flex-row align-items-center justify-content-center p-20\">\n                    <button onClick={() => seedRecipes()} className=\"btn btn-primary\"> importer des recettes (2 ou 3 fois si pas de recette... puis actualiser)\n\n                    </button>\n                </div>\n                <Search setFilter={setFilter} />\n                {isLoading && !recipes.length ? (\n                    <Loading />\n                ) : (\n                    <div className={styles.grid}>\n                        {Object.values(recipes)\n                            .filter((r) => r.title.toLowerCase().startsWith(filter))\n                            .map(r => (\n                                <Recipe\n                                    key={r._id}\n                                    recipe={r}\n                                    updateRecipe={updateRecipe}\n                                    deleteRecipe={deleteRecipe}\n                                />\n                            ))}\n                    </div>\n                )}\n                <div className=\"d-flex flex-row align-items-center justify-content-center p-20\">\n                    <button onClick={() => setPage(page + 1)} className=\"btn btn-primary\"> Charger plus de recettes page n° { page}\n\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Homepage;\n","const { atom } = require('recoil');\n\nexport const recipesState = atom({\n  key: 'recipesState',\n  default: [],\n});","import { selector, selectorFamily } from 'recoil';\nimport { recipesState } from './atoms';\nimport { getRecipe } from 'apis';\n\nexport const selectFilteredRecipes = selectorFamily({\n  key: 'selectFilteredRecipes',\n  get:\n    (filter) =>\n    ({ get }) => {\n      const recipes = get(recipesState);\n      return (\n        recipes.length &&\n        recipes.filter((r) => r.title.toLowerCase().startsWith(filter))\n      );\n    },\n});\n\nexport const selectActiveRecipe = selectorFamily({\n    key: 'selectActiveRecipe',\n    get:  recipeId => async () => recipeId && (await(getRecipe(recipeId))),\n})"],"names":["RECIPE_API","getRecipes","_x","_getRecipes","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","queryParam","response","body","wrap","_context","prev","next","fetch","concat","sent","ok","json","abrupt","Array","isArray","Error","stop","getRecipe","_x2","_getRecipe","_callee2","_id","_context2","deleteRecipe","_x3","_deleteRecipe","_callee3","_context3","method","updateRecipe","_x4","_updateRecipe","_callee4","updatedRecipe","restRecipe","_context4","_objectWithoutProperties","_excluded","headers","JSON","stringify","createRecipe","_x5","_createRecipe","_callee5","newRecipe","_context5","useFetchRecipes","page","setRecipes","useSetRecoilState","recipesState","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","error","setError","useEffect","cancel","_fetchData","fetchedRecipes","URLSearchParams","append","x","_toConsumableArray","t0","console","log","finish","fetchData","_ref","recipe","_handleClickDelete","e","stopPropagation","_jsxs","onClick","_objectSpread","liked","className","styles","children","_jsx","src","image","alt","title","style","setFilter","onInput","filter","target","value","length","trim","toLowerCase","type","placeholder","data","_seedRecipes","setPage","_useFetchRecipes","recipes","useRecoilValue","selectFilteredRecipes","savedRecipe","updateR","map","r","deleteR","seedRecipes","Search","Loading","Object","values","startsWith","Recipe","atom","require","key","default","selectorFamily","get","selectActiveRecipe","recipeId"],"sourceRoot":""}