"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[694],{2694:function(e,r,t){t.r(r),t.d(r,{default:function(){return p}});var i=t(4165),a=t(1413),n=t(5861),s="AdminRecipeForm_RecipeForm__c2lMI",c=t(6727),l=t(1134),m=t(4695),u=t(6764),d=t(7689),o=t(5330),x=t(3873),f=t(184);var p=function(){var e=(0,d.UO)().recipeId,r=(0,o.sJ)((0,x.B0)(e)),t=(0,d.s0)(),p={title:r?r.title:"",image:r?r.image:"",generic:""},g=c.Ry({title:c.Z_().required("le titre de la recette doit \xeatre renseign\xe9").min(10,"Le titre doit faire 10 caract\xe8res min et 30 max").max(30,"Le titre doit faire 10 caract\xe8res min et 30 max"),image:c.Z_().required("il faut renseigner une url d'image").url("L'image doit \xeatre un lien valide")}),h=(0,l.cI)({defaultValues:p,resolver:(0,m.X)(g)}),b=h.formState,j=b.errors,v=b.isSubmitting,Z=h.register,k=h.handleSubmit,N=h.reset,y=h.setError,_=h.clearErrors;function I(){return(I=(0,n.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,_(),!r){e.next=8;break}return e.next=5,(0,u.DI)((0,a.Z)((0,a.Z)({},n),{},{_id:r._id}));case 5:t("/admin/recipes/list"),e.next=11;break;case 8:return e.next=10,(0,u.kW)(n);case 10:N(p);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),y("generic",{type:"generic",message:"un erreur est survenue"});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}return(0,f.jsxs)("form",{onSubmit:k((function(e){return I.apply(this,arguments)})),className:"d-flex flex-column card p-20 ".concat(s),children:[(0,f.jsx)("h2",{className:"mb-20",children:" Ajouter une recette"}),(0,f.jsxs)("div",{className:"d-flex flex-column mb-20",children:[(0,f.jsx)("label",{children:"Titre de la recette"}),(0,f.jsx)("input",(0,a.Z)((0,a.Z)({},Z("title")),{},{type:"text"})),j.title&&(0,f.jsx)("p",{className:"form-error",children:j.title.message})]}),(0,f.jsxs)("div",{className:"d-flex flex-column mb-20",children:[(0,f.jsx)("label",{children:"Image de la recette"}),(0,f.jsx)("input",(0,a.Z)((0,a.Z)({},Z("image")),{},{type:"text"})),j.image&&(0,f.jsx)("p",{className:"form-error",children:j.image.message})]}),j.generic&&(0,f.jsx)("p",{className:"form-error",children:j.generic.message}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{disabled:v,className:"btn btn-primary",children:" Sauvegarder"})})]})}}}]);
//# sourceMappingURL=694.b7bdadca.chunk.js.map