"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[551],{6551:function(e,r,s){s.r(r),s.d(r,{default:function(){return x}});var n=s(1413),a=s(4165),i=s(5861),t=s(1134),l={form:"Signup_form__djdYU"},c=s(6727),o=s(4695),m="/api/users";function d(e){return u.apply(this,arguments)}function u(){return(u=(0,i.Z)((0,a.Z)().mark((function e(r){var s,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(m),e.next=3,fetch("".concat(m),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 3:return s=e.sent,e.next=6,s.json();case 6:if(n=e.sent,!s.ok){e.next=11;break}return e.abrupt("return",n);case 11:if(!n){e.next=15;break}throw n;case 15:throw new Error("Error api creatUser");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=s(7689),f=s(184);function x(e){var r=(0,p.s0)(),s=c.Ry({name:c.Z_().required("Pr\xe9cisez votre nom svp").min(2,"au moins 2 caract\xe8res !!"),email:c.Z_().required("il faut renseigner email").email("l'email n'est pas valide"),password:c.Z_().required("Renseignez un mdp svp").min(6,"au moins 6 caract\xe8res")}),m=(0,t.cI)({defaultValues:{name:"",email:"",password:""},resolver:(0,o.X)(s)}),u=m.handleSubmit,x=m.register,h=m.formState,v=h.errors,j=h.isSubmitting,b=m.setError,g=m.clearErrors,w=u(function(){var e=(0,i.Z)((0,a.Z)().mark((function e(s){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(),e.next=4,d(s);case 4:r("/signin"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),n=e.t0.message,b("generic",{type:"generic",message:n});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}());return(0,f.jsx)("div",{className:"flex-fill d-flex align-items-center justify-content-center",children:(0,f.jsxs)("form",{onSubmit:w,className:"".concat(l.form," d-flex flex-column card p-20"),children:[(0,f.jsx)("h2",{className:"mb-10",children:"Inscription"}),(0,f.jsxs)("div",{className:"mb-10 d-flex flex-column",children:[(0,f.jsx)("label",{htmlFor:"name",children:"Nom"}),(0,f.jsx)("input",(0,n.Z)({type:"text",id:"name"},x("name"))),v.name&&(0,f.jsx)("p",{className:"form-error",children:v.name.message})]}),(0,f.jsxs)("div",{className:"mb-10 d-flex flex-column",children:[(0,f.jsx)("label",{htmlFor:"email",children:"Email"}),(0,f.jsx)("input",(0,n.Z)({type:"text",id:"email"},x("email"))),v.email&&(0,f.jsx)("p",{className:"form-error",children:v.email.message})]}),(0,f.jsxs)("div",{className:"mb-10 d-flex flex-column",children:[(0,f.jsx)("label",{htmlFor:"name",children:"Password"}),(0,f.jsx)("input",(0,n.Z)({type:"text",id:"password"},x("password"))),(null===v||void 0===v?void 0:v.password)&&(0,f.jsx)("p",{className:"form-error",children:v.password.message})]}),(null===v||void 0===v?void 0:v.generic)&&(0,f.jsx)("div",{className:"mb-10",children:(0,f.jsx)("p",{className:"form-error",children:v.generic.message})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{disabled:j,className:"btn btn-primary",children:" Inscription"})})]})})}}}]);
//# sourceMappingURL=551.f466e931.chunk.js.map